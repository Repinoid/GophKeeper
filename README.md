## Выпускной

Докеризовано.<br>
Используется контейнеры базы данных Postgres и S3-совместимого локального хранилища Minio<br>
Сначала необходимо создать сертификаты в папке cmd/tls, в makekey.bat команда<br>
Затем запустить контейнеры, в папке cmd **docker-compose up -d**  <br>
cmd/server - сервер, сбилдить запустить <br>
cmd/client - клиент работающий по CLI <br>


Логика : <hr>

Три таблицы <br>
USERA. Содержит логин, пароль, имя бакета юзера, ключ шифрования бакета, при внесении в таблицу кодируется мастер-ключом<br>
TOKENA. При логине в него прописывается токен и пересылается Клиенту, который сохраняет его в локальном файле<br>
DATAS. В неё записываются параметры переданных данных - имя файла в бакете, ключ кодирования файла, типа данных (текст, файл, кредитка) <br>
Ключ кодирования файла шифруется ключом бакета<br>

<img src="g.jpg" width="700" />

CLI <br>
```
client -register="username, password" Регистрация нового юзера
client -login="username, password"

client -putfile="путь к файлу/имя файла"
client -puttext=" в кавычках текст "
client -putcard=" номер, ММ/YY, CSV, Card Holder"
       -update=id при наличии этого флага совместно с putfile || puttext || putcard обновляются данные записи с номером id

client -list Вывод на экран списка загруженных данных, первый столбец ID - номер 
client -show=id Вывод на экран параметров записи с номером id

client -get=id id-номер записи для получения записи и сохранения содержимого в файл, по умолчанию имя такое же, как в бакете S3
       -file="filename" - путь/имя файла, совместно с -get

client -remove=id id-номер записи для удаления

Флаг -meta="... метаданные ..." - запись метаданных в таблицу при любой записи, в т.ч. регистрации
```

Пока редактирование данных и кредитные карты не реализованы, сделаны некоторые шаблоны TUI, но, по моему, это лишнее, CLI рулит

